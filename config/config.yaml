# =========================
# masters: global config
# =========================
project: "masters"

# CPU threads 
threads: 8

use_containers: false
conda_frontend: "conda"

# Samples table 
samples_tsv: "config/samples.tsv"

# Reference databases
dbs:
  checkm2: "/home/ignas.juodziunas/databases/CheckM2_database/uniref100.KO.1.dmnd"
  gtdbtk:  "/mnt/workspace/databases/gtdb/release226"

# Tools/choices
assembler: "metaflye"         # metaflye, raven, shasta
trim_tool: "porechop"         

trim:
  porechop_extra: "--discard_middle"   # place to put extra args later
  
# Polishing â€” Medaka is the main path; Racon optional
polish:
  use_medaka: true
  medaka_model: ""            # (leave empty to auto-select)
  # Enable Racon polishing before Medaka by default.  This setting is
  # ignored by the updated workflow, which always runs Racon, but
  # retained here for reference.
  use_racon: true            
  racon_rounds: 3             # number of Racon polishing iterations

# Binning 
binning:
  # Specify binning methods.  The updated workflow now runs
  # MetaBAT2, MaxBin2 and SemiBin2 regardless of this list.
  methods: ["metabat2", "maxbin2", "semibin2"]
  depth_tool: "jgi"

# Filtering parameters for contigs prior to binning.  These defaults match
# the recommended thresholds in the improved workflow.
filter:
  min_length: 2500    # minimum contig length in bp
  min_coverage: 5     # minimum mean coverage
  min_gc: 0.2         # minimum GC fraction
  max_gc: 0.8         # maximum GC fraction

# Output root
outdir: "results"

flye:
  threads: 4
  memory: 1
  parallel_jobs: 1
  asm_coverage: 30
  genome_size: 5m

test_mode: false
  
